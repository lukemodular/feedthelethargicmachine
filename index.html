<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Feed the machine!</title>
		<style>
		 	html {
				box-sizing: border-box;
			}
		 	*, *:before, *:after {
				box-sizing: inherit;
			}
		 	html, body {
				margin: 0;
				padding: 0;
				min-height: 100vh;
				background-color: black;
			}
		 	.bg {
				background-image: url('bg.jpg');
				opacity: 0.2;
				height: 100%;
				width: 100%;
				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;
			}
      		main {
        		font-family: Helvetica, sans-serif;
				width: 100%;
				max-width: 50ch;
				padding: 2rem 1rem;
				color: white;
				margin: 0 auto;
				font-size: calc(1rem + 0.5vw);
				position: relative;
				z-index: 2;
      		}
		 	input,
			button {
				background-color: black;
				color: white;
				font-size: inherit;
				padding: 0.5rem 0.5rem;
				max-width: 100%;
				border: 3px solid white;
			}
		 	button {
				font-weight: bold;
				border: 3px solid white;
				border-radius: 10px;
				padding: 0.25rem 1rem;
			}
		 	main {
				display: flex;
				flex-direction: column;
			}
		 	.stack > * + * {
  			 	margin-top: 1.5rem;
			}
		 	p {
				margin-bottom: 0;
			}
		 	.center {
				margin: 4rem 0;
			}
		 	.stage {
				animation: animateBg 10s linear infinite;
				background-image: linear-gradient(0deg,#cf5c5c,#c19b4a,#def2a0,#c6ee4a,#42eca6,#64b3d9,#208ea2,#498ada,#5b73df,#897ed3,#cf5c5c,#c19b4a);
				background-size: 100% 1100%;
			}
		 	.header {
		 		margin: 2rem 0;
				font-size: calc(1.3rem + 0.8vw);
			}
			.body {
		 		margin: 2rem 0;
				font-size: calc(1rem + 0.5vw);
			}
			.footer {
		 		margin: 2rem 0;
				font-size: calc(0.5rem + 0.3vw);
			}
		 	@keyframes animateBg {
				0% { background-position: 0% 0%; }
				100% { background-position: 0% 100%; }
			}

		</style>
		<script>
				var ws;
				function websocket_init(){
					ws = new WebSocket('wss://feedthelethargicmachine.eu.ngrok.io');
					ws.onopen = websocket_open;
					ws.onmessage = websocket_receive;
				}	

				function button_send(){
					ws.send(document.getElementById( "textinput" ).value);	
				}
				function websocket_open(event){
					console.log('Websocket open')
				}
				function websocket_receive(event){
					console.log(event.data);
				}
		</script>
	</head>
	
	<body onload = "websocket_init()">
		<div class="bg"></div>
		<main>
			<form>
				<div class="stack">
					<p class="stack header">
						What do you think about all of this?!</p>
					<p class="stack body">
						A machine learning algorithm – trained on historical rave aphorisms and truisms, mottos of rave-parades, social reflections and song titles ranging from Eurodance to underground Techno – is fed with your spontaneous thoughts.
						Collectively imagined texts emerge on the LED-display, fluidly and absurdly morphing between different visions and ideas about our hedonistic pleasure.</p>
					<p>
						<label for="text">Feed our collective memory here:</label>
					</p>
					<p class="stack center">
						<input class="stage" type="text" id="textinput" name="text" required size="40"
								 pattern="[\x00-\x7F]{4,255}" placeholder="Give it to me!">
						<span class="validity"></span>

						<button class="stage" onclick = "button_send()" >SEND</button>
					</p>
					<p>I accept 255 charactarers.</p>
				</div>
			</form>
			<div class="stack footer">
				<p>A project by <a href="https://lukastruniger.net/">Lukas Truniger</a>.
					With prize support from Fabian Frei and <a href="https://casadeanimation.ch/">Luca</a></p>
			</div>
		</main>
	</body>
</html>
