<html>
	<head>
		<meta charset="utf-8">
		<title>Feed the machine!</title>
		<style>
      		body {
        		font-family: Helvetica, sans-serif;
        		font-size:25;
      		}
		</style>
		<script>
				var ws;
				function websocket_init(){
					ws = new WebSocket('wss://feedthelethargicmachine.eu.ngrok.io');
					ws.onopen = websocket_open;
					ws.onmessage = websocket_receive;
				}	

				function button_send(){
					ws.send(document.getElementById( "textinput" ).value);	
				}
				function websocket_open(event){
					console.log('Websocket open')
				}
				function websocket_receive(event){
					console.log(event.data);
				}
		</script>
	</head>
	
	<body onload = "websocket_init()">
		<form>
			<div>
				<p>What do you think about this dancefloor?!</p>
				<label for="uname">Feed our collective memory about it : </label>
				<input type="text" id="textinput" name="text" required size="40"
				pattern="[\x00-\x7F]{4,255}">
				<span class="validity"></span>
				<p>I accept 255 charactarers.</p>
			</div>
			<div>
				<button onclick = "button_send()" >>>> SEND</button>
			</div>
		</form>
		<div>
			<img src = "C:\Users\luke\Desktop\glitch_display\prog\Dep\penroseTiling.jpg" > </br>
			<p>A project by <a href="https://lukastruniger.net/">Lukas Truniger</a>.</p>
		</div>
	</body>
</html>
